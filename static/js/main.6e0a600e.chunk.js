(this["webpackJsonpfeeding-times"]=this["webpackJsonpfeeding-times"]||[]).push([[0],{118:function(e,t,a){e.exports=a(182)},164:function(e,t,a){},178:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),l=a(41),i=a.n(l),u=(a(72),a(110)),s={apiKey:"AIzaSyCkjoNyREWPQSir0MQE0GKxhvk3Gu6nymU",authDomain:"feeding-times.firebaseapp.com",databaseURL:"https://feeding-times.firebaseio.com",projectId:"feeding-times",storageBucket:"feeding-times.appspot.com",messagingSenderId:"127877852778",appId:"1:127877852778:web:d4195aab660f35f7166413",measurementId:"G-BCW18CF4EW"},m=(a(164),a(24)),p=a(14),d=a(30),b=a(34),f=a(13),g=(a(165),a(221)),h=a(224),E=a(243),j=a(227);i.a.initializeApp(s);var O=i.a,y=(a(77),Object(n.createContext)({})),v=y.Provider,x=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(f.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(!0),u=Object(f.a)(i,2),s=u[0],m=u[1];return Object(n.useEffect)((function(){O.auth().onAuthStateChanged((function(e){e?(l(e),m(!1)):(l(null),m(!1))}))}),[]),r.a.createElement(v,{value:{user:o,authenticated:null!==o,setUser:l,loadingAuthState:s}},t)},w=Object(g.a)((function(e){return{root:{"& > *":{margin:e.spacing(2)}},button:{marginTop:"15px"}}})),S=function(){var e=w(),t=Object(n.useContext)(y),a=Object(p.g)(),c=Object(n.useState)({email:"",password:""}),o=Object(f.a)(c,2),l=o[0],i=o[1],u=function(e){e.persist(),i((function(t){return Object(b.a)({},t,Object(d.a)({},e.target.name,e.target.value))}))};return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(t),O.auth().signInWithEmailAndPassword(l.email,l.password).then((function(e){t.setUser(e),console.log(e,"res"),a.push("/dashboard")})).catch((function(e){console.log(e.message),alert(e.message)}))},className:e.root},r.a.createElement(h.a,{container:!0,direction:"column",justify:"center",alignItems:"center",width:"50%"},r.a.createElement(E.a,{id:"standard-basic",label:"Email",type:"text",name:"email",value:l.email,placeholder:"Enter your Email",onChange:u}),r.a.createElement(E.a,{id:"standard-basic",label:"Password",type:"password",name:"password",value:l.password,placeholder:"Enter your Password",onChange:u}),r.a.createElement(j.a,{value:"login",color:"primary",type:"submit",variant:"contained",className:e.button},"Login"))))},k=Object(g.a)((function(e){return{root:{"& > *":{margin:e.spacing(2)}},button:{marginTop:"15px"}}})),C=function(){var e=k(),t=Object(n.useContext)(y),a=Object(n.useState)({username:"",email:"",password:"",phone:""}),c=Object(f.a)(a,2),o=c[0],l=c[1],i=Object(p.g)(),u=function(e){e.persist(),l((function(t){return Object(b.a)({},t,Object(d.a)({},e.target.name,e.target.value))}))};return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(o,"values"),O.auth().createUserWithEmailAndPassword(o.email,o.password).then((function(e){t.setUser(e),O.firestore().collection("Users").doc(e.user?e.user.uid:null).set({email:o.email,username:o.username,phone:o.phone}).then((function(){console.log("ok"),i.push("/dashboard")})).catch((function(e){console.log(e.message),alert(e.message)}))}))},className:e.root},r.a.createElement(h.a,{container:!0,direction:"column",justify:"center",alignItems:"center",width:"50%"},r.a.createElement(E.a,{label:"Username",type:"text",name:"username",placeholder:"Username",onChange:u}),r.a.createElement(E.a,{label:"Phone Number",type:"text",name:"phone",placeholder:"Phone",onChange:u}),r.a.createElement(E.a,{label:"Email",type:"text",name:"email",placeholder:"Enter your Email",onChange:u}),r.a.createElement(E.a,{label:"Password",type:"password",name:"password",placeholder:"Enter your Password",onChange:u}),r.a.createElement(j.a,{value:"signUp",color:"primary",variant:"contained",className:e.button},"Sign up"))))},N=function(){return r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/auth/login",component:S}),r.a.createElement(p.b,{exact:!0,path:"/auth/signup",component:C}),r.a.createElement(p.a,{to:"/auth/login",from:"/auth"}))},T=a(111),D=function(e){var t=e.component,a=Object(T.a)(e,["component"]),c=Object(n.useContext)(y),o=c.authenticated;return c.loadingAuthState?r.a.createElement("div",null,r.a.createElement("h1",null,"Loading...")):r.a.createElement(p.b,Object.assign({},a,{render:function(e){return o?r.a.createElement(t,e):r.a.createElement(p.a,{to:{pathname:"/auth/login",state:{prevPath:a.path}}})}}))},I=a(109),P=a(18),A=(a(178),Object(g.a)((function(e){return{root:{"& > *":{margin:e.spacing(2)}},button:{margin:"15px"}}})));var U=function(e){var t=A(),a=Object(n.useState)({right:"primary",left:"primary"}),c=Object(f.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(!1),u=Object(f.a)(i,2),s=u[0],m=u[1],p=Object(n.useState)(!1),d=Object(f.a)(p,2),g=d[0],h=d[1],E=function(t){"primary"===o.left&&"primary"===o.right?(e.isStartTime(!1),"left"===t.currentTarget.value?(m(!0),l((function(e){return Object(b.a)({},e,{left:"secondary"})})),e.side("Left")):(h(!0),l((function(e){return Object(b.a)({},e,{right:"secondary"})})),e.side("Right"))):(e.isStartTime(!0),"left"===t.currentTarget.value?(m(!1),l((function(e){return Object(b.a)({},e,{left:"primary"})}))):(h(!1),l((function(e){return Object(b.a)({},e,{right:"primary"})})))),e.timeClickHandler()};return r.a.createElement("div",null,r.a.createElement(j.a,{value:"left",variant:"contained",color:o.left,className:t.button,onClick:function(e){E(e)},disabled:g},"Left"),r.a.createElement(j.a,{value:"right",variant:"contained",color:o.right,className:t.button,onClick:function(e){E(e)},disabled:s},"Right"))},B=a(101),M=a.n(B),L=a(6),F=a(228),W=a(229),R=a(230),Y=a(231),G=a(183),H=a(232),J=a(233),_=function(e){var t="0".concat(e%60).slice(-2),a="".concat(Math.floor(e/60)),n="0".concat(a%60).slice(-2),r="0".concat(Math.floor(e/3600)).slice(-2);return"".concat(r," : ").concat(n," : ").concat(t)},Q=Object(L.a)((function(e){return{root:{backgroundColor:e.palette.primary,"&:nth-of-type(odd)":{backgroundColor:e.palette.primary.main},"&:nth-of-type(even)":{backgroundColor:e.palette.secondary.main}}}}))(F.a),z=Object(g.a)((function(e){return{root:{"& > *":{margin:e.spacing(2)}}}})),K=function(e){var t=e.timeArray,a=z();P.extend(M.a);var n=[];t&&(n=JSON.parse(JSON.stringify(t)).reverse());var c=t?r.a.createElement(W.a,null,n.map((function(e,a){return r.a.createElement(Q,{key:a},r.a.createElement(R.a,{component:"th",scope:"row"},t.length-a),r.a.createElement(R.a,{align:"center"},e.side),r.a.createElement(R.a,{align:"center"},P(e.start).format("DD/MM/YYYY - HH:mm:ss")),r.a.createElement(R.a,{align:"center"},P(e.end).format("DD/MM/YYYY - HH:mm:ss")),r.a.createElement(R.a,{align:"center"},_(Math.floor(e.elapsed/1e3))),r.a.createElement(R.a,{align:"center"},a===n.length-1?null:P(n[a+1].end).from(P(e.start))))}))):null;return r.a.createElement(Y.a,{component:G.a,className:a.table},r.a.createElement(H.a,{"aria-label":"simple table"},r.a.createElement(J.a,null,r.a.createElement(F.a,null,r.a.createElement(R.a,null,"#"),r.a.createElement(R.a,{align:"center"},"Side"),r.a.createElement(R.a,{align:"center"},"Start Time"),r.a.createElement(R.a,{align:"center"},"End Time"),r.a.createElement(R.a,{align:"center"},"Elapsed Time"),r.a.createElement(R.a,{align:"center"},"Time Since Previous Feeding"))),c))},$=a(70),q=Object(g.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},container:{display:"flex",alignItems:"center",justifyContent:"center"}}})),V=Object(L.a)((function(e){return{root:{width:"30%",textAlign:"center",borderRadius:"10px",boxShadow:"0px 3px 1px -2px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 1px 5px 0px rgba(0,0,0,0.12)"}}}))($.a),X=function(e){var t=e.time,a=e.bgColor,n=q(t);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"stopwatch",className:n.container},r.a.createElement(V,{variant:"h2",className:(n.root,a)},_(t))))},Z=a(80),ee=a.n(Z),te=a(102),ae=function(){var e=Object(te.a)(ee.a.mark((function e(t,a){var n,r,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.auth().currentUser;case 2:if(n=e.sent,!(r=n.uid)){e.next=14;break}e.t0=a.type,e.next="ADD_FEEDING_TIME"===e.t0?8:13;break;case 8:return c=a.newFeedingTime,O.firestore().collection("Feeding-Times").doc(r).collection("row").add({side:c.side,start:P(c.start).toString(),end:P(c.end).toString(),elapsed:c.elapsed}).then((function(){console.log("ok")})).catch((function(e){console.log(e.message),alert(e.message)})),console.log(c),e.abrupt("return",c);case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ne=Object(g.a)((function(e){return{root:{"& > *":{margin:e.spacing(2),width:"calc(100% - 240px)"}},primaryBg:{backgroundColor:e.palette.primary.main},secondaryBg:{backgroundColor:e.palette.secondary.main}}})),re=function(){var e=ne(),t=Object(n.useState)([]),a=Object(f.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),i=Object(f.a)(l,2),u=i[0],s=i[1],m=Object(n.useState)(""),p=Object(f.a)(m,2),d=p[0],b=p[1],g=Object(n.useState)(""),h=Object(f.a)(g,2),E=h[0],j=h[1],O=Object(n.useState)(0),y=Object(f.a)(O,2),v=y[0],x=y[1],w=Object(n.useState)(e.primaryBg),S=Object(f.a)(w,2),k=S[0],C=S[1],N=Object(n.useState)(!0),T=Object(f.a)(N,2),D=T[0],A=T[1],B=Object(n.useState)(!0),M=Object(f.a)(B,2),L=M[0],F=M[1],W=Object(n.useRef)(null),R=Object(n.useReducer)(ae,[]),Y=Object(f.a)(R,2),G=(Y[0],Y[1]);Object(n.useEffect)((function(){d&&(console.log(P(d).toString()),o([].concat(Object(I.a)(c),[H(E,u,d,P(d).diff(P(u),"ms"))])),G({type:"ADD_FEEDING_TIME",newFeedingTime:H(E,u,d,P(d).diff(P(u),"ms"))}))}),[d]);var H=function(e,t,a,n){return{side:e,start:t,end:a,elapsed:n}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Timer"),r.a.createElement(X,{time:v,bgColor:k}),r.a.createElement(U,{side:function(e){return j(e)},isStartTime:function(e){return F(e)},timeClickHandler:function(){return function(){if(console.log("isStartTime: ".concat(L)),L){var t=P();s(t),C(e.secondaryBg),W.current=setInterval((function(){x((function(e){return e+1}))}),1e3),A(!1)}else{var a=P(new Date);b(a),C(e.primaryBg),x(0),clearInterval(W.current),A(!0)}}()}}),r.a.createElement(K,{timeArray:D||c.length>0?c:null}))},ce=function(){return r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/dashboard",component:re}))},oe=a(17),le=a(239),ie=a(240),ue=a(241),se=a(107),me=a.n(se),pe=a(238),de=a(246),be=a(226),fe=a(234),ge=a(235),he=a(236),Ee=a(237),je=a(103),Oe=a.n(je),ye=a(104),ve=a.n(ye),xe=a(106),we=a.n(xe),Se=a(105),ke=a.n(Se),Ce=Object(g.a)({list:{width:250},fullList:{width:"auto"},link:{textDecoration:"none",color:"black"}});function Ne(){var e=Ce(),t=Object(p.h)(),a=[{name:"About",path:"/about",icon:r.a.createElement(Oe.a,{color:"primary"})},{name:"Summary",path:"/summary",icon:r.a.createElement(ve.a,{color:"primary"})},{name:"Dashboard",path:"/dashboard",icon:r.a.createElement(ke.a,{color:"primary"})},{name:"Settings",path:"/settings",icon:r.a.createElement(we.a,{color:"primary"})}].filter((function(e){return e.path!==t.pathname}));return r.a.createElement("div",{className:e.fullList,role:"presentation"},r.a.createElement(fe.a,null),r.a.createElement(be.a,null,a.map((function(t,a){return r.a.createElement(m.b,{to:t.path,className:e.link},r.a.createElement(ge.a,{button:!0,key:a},r.a.createElement(he.a,null,t.icon),r.a.createElement(Ee.a,{primary:t.name})))}))),r.a.createElement(fe.a,null))}var Te=a(245),De=Object(g.a)((function(e){return{root:{display:"flex",flexShrink:0},appBar:Object(d.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),drawer:Object(d.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),menuButton:Object(d.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},title:{flexGrow:1},list:{width:250},fullList:{width:"auto"}}}));function Ie(){var e=Object(oe.a)(),t=De(),a=Object(p.g)(),c=Object(n.useContext)(y),o=Object(p.h)(),l=Object(n.useState)(!1),u=Object(f.a)(l,2),s=u[0],m=u[1],d=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&m(e)}},b=c.user?r.a.createElement(j.a,{color:"inherit",onClick:function(e){e.preventDefault(),i.a.auth().signOut().then((function(e){a.push("/auth/login")})),console.log(c.user)}},"Logout"):"/auth/login"===o.pathname?r.a.createElement(j.a,{color:"inherit",onClick:function(){a.push("/auth/signup")}},"Sign Up"):r.a.createElement(j.a,{color:"inherit",onClick:function(){a.push("/auth/login")}},"Login"),g="/auth/login"===o.pathname||"/auth/signup"===o.pathname?null:r.a.createElement("div",{className:t.toolbar},r.a.createElement(Ne,null));return r.a.createElement("div",{className:t.root},r.a.createElement(pe.a,null),r.a.createElement(le.a,{position:"static",className:t.appBar},r.a.createElement(ie.a,null,r.a.createElement(ue.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:d(!0)},r.a.createElement(me.a,null))," ",r.a.createElement($.a,{variant:"h6",className:t.title},"Feeding Times"),b)),r.a.createElement("nav",{className:t.drawer},r.a.createElement(Te.a,{smUp:!0,implementation:"css"},r.a.createElement(de.a,{variant:"temporary",anchor:"rtl"===e.direction?"right":"left",open:s,onClose:d(!1),ModalProps:{keepMounted:!0},classes:{paper:t.drawerPaper}},g," ")),r.a.createElement(Te.a,{xsDown:!0,implementation:"css"},r.a.createElement(de.a,{variant:"permanent",classes:{paper:t.drawerPaper},open:!0},g))))}var Pe=function(){return r.a.createElement("div",null,"Welcome to Summary")},Ae=function(){return r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/summary",component:Pe}))},Ue=function(){return r.a.createElement("div",null,"Welcome to about")},Be=function(){return r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/about",component:Ue}))},Me=function(){return r.a.createElement(m.a,null,r.a.createElement(Ie,null),r.a.createElement(p.d,null,r.a.createElement(D,{exact:!0,path:"/dashboard",component:ce}),r.a.createElement(D,{exact:!0,path:"/about",component:Be}),r.a.createElement(D,{exact:!0,path:"/summary",component:Ae}),r.a.createElement(p.b,{path:"/auth",component:N}),r.a.createElement(p.a,{to:"/auth",from:"/"})))},Le=(a(181),a(242)),Fe=a(108),We=Object(Fe.a)({palette:{primary:{main:"#f27781"},secondary:{main:"#f2cf1d"}},typography:{fontFamily:"'Quicksand', sans-serif",button:{textTransform:"none"}}});var Re=function(){return r.a.createElement(Le.a,{theme:We},r.a.createElement(Me,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,Object.assign({firebase:i.a},s),r.a.createElement(x,null,r.a.createElement(Re,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[118,1,2]]]);
//# sourceMappingURL=main.6e0a600e.chunk.js.map